// Modern fluid grid system
$grid-columns: 12;
$grid-gutter: 24px;
$breakpoints: (
  xs: 0,
  sm: 576px,
  md: 768px,
  lg: 992px,
  xl: 1200px
);

.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 $grid-gutter;
}

.row {
  display: flex;
  flex-wrap: wrap;
  margin: -($grid-gutter / 2);
}

// Generate column classes
@each $breakpoint-name, $breakpoint-value in $breakpoints {
  @media (min-width: $breakpoint-value) {
    @for $i from 1 through $grid-columns {
      .col-#{$breakpoint-name}-#{$i} {
        flex: 0 0 percentage($i / $grid-columns);
        max-width: percentage($i / $grid-columns);
        padding: ($grid-gutter / 2);
      }
    }
  }
}

// Auto-column for equal width
.col {
  flex: 1 0 0;
  padding: ($grid-gutter / 2);
}

// Utility classes for spacing
@each $breakpoint-name, $breakpoint-value in $breakpoints {
  @media (min-width: $breakpoint-value) {
    .gap-#{$breakpoint-name} {
      gap: $grid-gutter;
    }
    
    .gap-#{$breakpoint-name}-sm {
      gap: ($grid-gutter / 2);
    }
    
    .gap-#{$breakpoint-name}-lg {
      gap: ($grid-gutter * 2);
    }
  }
}

// Masonry grid support
.grid-masonry {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  grid-auto-rows: 0;
  grid-gap: $grid-gutter;
}